<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>测试动画库</title>
    <style>
    .mydiv {
        width: 300px;
        height: 200px;
        background-color: pink;
        position: absolute;
        top: 100px;
        left: 100px;
    }
    </style>
</head>

<body>
    <div class="mydiv" id="mydiv"></div>
    <script src="./util.js"></script>
    <script src="./tween.js"></script>
    <script src="./animate4.js"></script>
    <script type="text/javascript">
    //测试animate.js
    //利用回调来实现顺序调用
    // var div = document.getElementById('mydiv');
    // var anim = Object.create(Animate);
    // anim.init(div);
    // anim.runAnim({
    //     width: 500
    // }, {
    //     duration: 400
    // }, function() {
    //     anim.runAnim({
    //         height: 500
    //     }, {
    //         duration: 400
    //     });
    // });
    //测试animate1.js
    //使用settimeout实现动画库
    // var div = document.getElementById('mydiv');
    // var anim = Object.create(Animate);
    // anim.init(div);
    // anim.runAnim({
    //     width: 500
    // }, {
    //     duration: 600
    // });
    // anim.runAnim({
    //     height: 500
    // }, {
    //     duration: 600
    // });

    //测试animate2.js
    //使用requeustAnimationFrame代替settimeout实现动画库
    // var div = document.getElementById('mydiv');
    // var anim = Object.create(Animate);
    // anim.init(div);
    // anim.runAnim({
    //     width: 500,
    //     opacity: .4
    // }, {
    //     duration: 600
    // });
    // anim.runAnim({
    //     height: 500
    // }, {
    //     duration: 600
    // });

    //测试animate3.js 
    //引入了promise
    //调用方法一：引入了async,awite
    // var div = document.getElementById('mydiv');
    // var anim = Object.create(Animate);
    // anim.init(div);

    // async function  run() {
    //     var a = await anim.runAnim({
    //         width: 500,
    //         opacity: .4
    //     }, {
    //         duration: 600
    //     });
    //     var b = await anim.runAnim({
    //         height: 400
    //     }, {
    //         duration: 400
    //     });
    // }
    // run();
    // 调用方法二，利用promise的then
    // var div = document.getElementById('mydiv');
    // var anim = Object.create(Animate);
    // anim.init(div);
    // anim.runAnim({width:500},{duration:600}).then(function(){
    //    return anim.runAnim({height:400},{duration:400});
    // }).then(function(){
    //     console.log('end');
    // });

    //测试animate4.js
    //引入了promise和队列
    var div = document.getElementById('mydiv');
    var anim = Object.create(Animate);
    anim.init(div);
    anim.runAnim({
        width: 500
    }, {
        duration: 600
    }, function() {
        anim.runAnim({
            opacity: .4
        });
    });
    anim.runAnim({
        height: 500
    }, {
        duration: 400
    });
    </script>
</body>

</html>
