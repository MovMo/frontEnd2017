<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 01</title>
  </head>
<body>
  <p>参考以下示例代码，页面加载后，将提供的空气质量数据数组，按照某种逻辑（比如空气质量大于60）进行过滤筛选，最后将符合条件的数据按照一定的格式要求显示在网页上</p>

  <h3>污染城市列表</h3>
  <ul id="aqi-list">
<!--   
    <li>第一名：福州（样例），10</li>
    <li>第二名：福州（样例），10</li> -->
  </ul>

<script type="text/javascript">

var aqiData = [
  ["北京", 90],
  ["上海", 50],
  ["福州", 10],
  ["广州", 50],
  ["成都", 90],
  ["西安", 100]
];

(function () {

  /*
  在注释下方编写代码
  遍历读取aqiData中各个城市的数据
  将空气质量指数大于60的城市显示到aqi-list的列表中
  */
 
 /*下面是方法一*/
 /*
  var list=document.getElementById('aqi-list'),
      tmp,i,len,city,value,li,dataMap;
  dataMap={
    '1':'一',
    '2':'二',
    '3':'三'
  };
  //首先过滤出空气质量大于60的
  tmp=aqiData.filter(function(value,i){
    return value[1]>60;
  });
  //排序
  tmp=tmp.sort(function(a,b){
    return b[1]-a[1];
  });
  //生成元素
  for(i=0,len=tmp.length;i<len;i++){
    city=tmp[i][0];
    value=tmp[i][1];
    li=document.createElement('li');
    li.innerHTML='第'+dataMap[i+1]+'名：'+city+','+value;
    list.appendChild(li);
  }
*/

/*下面是方法二*/
  var list=document.getElementById('aqi-list'),
      constr='',
      chineseNumbers=['一','二','三','四','五','六','七'];
      //1.注意链式调用
      //注意尽量不要在循环中使用appendChild
  aqiData.filter(function(value,i){
          return value[1]>60;
        })  
        .sort(function(a,b){
          return b[1]-a[1];
        })
        .forEach(function(value,i){

          constr+='<li>第'+chineseNumbers[i]+'名,'+value[0]+','+value[1]+'</li>';
        });
  list.innerHTML=constr;

})();

</script>
</body>
</html>